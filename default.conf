server {
    # Escucha en el puerto estándar de HTTP
    listen 80;
    
    # Establece la raíz de los documentos
    root /var/www/html;
    
    # El orden de los archivos a buscar al acceder a la raíz
    index index.php index.html index.htm;
    
    # Nombre del servidor (puede ser localhost o cualquier cosa)
    server_name _; 

    # Bloque de reescritura de URL (El reemplazo de .htaccess)
    location / {
        # Intenta servir el archivo tal cual. 
        # Si no lo encuentra, pasa la petición a index.php.
        try_files $uri $uri/ /index.php?$args;
    }

    # Bloque de procesamiento de PHP
    location ~ \.php$ {
        # Configuración estándar para PHP-FPM
        fastcgi_pass 127.0.0.1:9000; # Conéctate al puerto 9000 del contenedor PHP-FPM
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }

    # Ocultar archivos .git, .env, etc. (Buena práctica de seguridad)
    location ~ /\. {
        deny all;
    }
}